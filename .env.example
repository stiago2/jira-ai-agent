# ============================================================================
# JIRA AI AGENT - Environment Variables
# ============================================================================
# Copia este archivo a .env y configura los valores apropiados
# NUNCA comitees el archivo .env a git (está en .gitignore)
# ============================================================================

# ----------------------------------------------------------------------------
# Application Configuration
# ----------------------------------------------------------------------------
APP_NAME=jira-ai-agent
APP_VERSION=0.1.0
APP_ENV=development
DEBUG=true
LOG_LEVEL=INFO

# ----------------------------------------------------------------------------
# Server Configuration
# ----------------------------------------------------------------------------
# Host y puerto donde se ejecutará el servidor FastAPI
HOST=0.0.0.0
PORT=8000

# Prefijo para las rutas de la API (ej: /api/v1/tasks/create)
API_V1_PREFIX=/api/v1

# CORS - Orígenes permitidos (separados por coma)
# En producción, especifica solo los dominios necesarios
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8000,http://localhost:5173

# ----------------------------------------------------------------------------
# Jira Configuration (REQUIRED)
# ----------------------------------------------------------------------------
# URL base de tu instancia de Jira Cloud (sin / al final)
# Ejemplo: https://tu-empresa.atlassian.net
JIRA_BASE_URL=https://your-company.atlassian.net

# Email de tu cuenta de Jira
JIRA_EMAIL=your-email@company.com

# API Token de Jira (genéralo en: https://id.atlassian.com/manage-profile/security/api-tokens)
JIRA_API_TOKEN=your_jira_api_token_here

# Proyecto por defecto (opcional, puede especificarse en cada request)
JIRA_DEFAULT_PROJECT=PROJ

# Timeout para requests a Jira API (en segundos)
JIRA_TIMEOUT=30

# Reintentos en caso de error
JIRA_MAX_RETRIES=3

# ----------------------------------------------------------------------------
# Parser Configuration
# ----------------------------------------------------------------------------
# Tipo de parser: rule-based o llm
PARSER_TYPE=rule-based

# Confianza mínima para aceptar un parsing (0.0 - 1.0)
MIN_CONFIDENCE_THRESHOLD=0.4

# ----------------------------------------------------------------------------
# AI/LLM Configuration (OPCIONAL - para implementación futura)
# ----------------------------------------------------------------------------
# Proveedor de LLM: openai, anthropic, azure, local
LLM_PROVIDER=openai

# API Key del proveedor de LLM
# OpenAI: https://platform.openai.com/api-keys
# Anthropic: https://console.anthropic.com/settings/keys
LLM_API_KEY=your_llm_api_key_here

# Modelo a usar
# OpenAI: gpt-4, gpt-4-turbo, gpt-3.5-turbo
# Anthropic: claude-3-opus-20240229, claude-3-sonnet-20240229
LLM_MODEL=gpt-4

# Temperatura (0.0 = determinístico, 1.0 = creativo)
LLM_TEMPERATURE=0.3

# Máximo de tokens en la respuesta
LLM_MAX_TOKENS=500

# Timeout para llamadas al LLM (en segundos)
LLM_TIMEOUT=30

# ----------------------------------------------------------------------------
# Cache Configuration (OPCIONAL - Redis)
# ----------------------------------------------------------------------------
# Habilitar cache para reducir llamadas a Jira API
CACHE_ENABLED=false

# URL de conexión a Redis
REDIS_URL=redis://localhost:6379/0

# Tiempo de vida del cache en segundos (1 hora = 3600)
CACHE_TTL=3600

# Prefijo para las claves de cache
CACHE_KEY_PREFIX=jira_agent:

# ----------------------------------------------------------------------------
# Rate Limiting (OPCIONAL)
# ----------------------------------------------------------------------------
# Límite de requests por minuto por IP
RATE_LIMIT_PER_MINUTE=60

# Habilitar rate limiting
RATE_LIMIT_ENABLED=false

# ----------------------------------------------------------------------------
# Security & Authentication (REQUIRED para auth system)
# ----------------------------------------------------------------------------
# Secret key para JWT (genera uno aleatorio en producción)
# Genera con: python -c "import secrets; print(secrets.token_urlsafe(32))"
JWT_SECRET_KEY=your-secret-key-change-this-in-production-REQUIRED

# Encryption key para tokens de Jira en base de datos (32 bytes base64)
# Genera con: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
ENCRYPTION_KEY=your-encryption-key-change-this-in-production-REQUIRED

# Tiempo de expiración del token JWT en minutos (1440 = 24 horas)
ACCESS_TOKEN_EXPIRE_MINUTES=1440

# ----------------------------------------------------------------------------
# Monitoring & Logging (OPCIONAL)
# ----------------------------------------------------------------------------
# Formato de logs: json o text
LOG_FORMAT=text

# Archivo de logs (dejar vacío para solo consola)
LOG_FILE=

# Nivel de log para librerías externas
EXTERNAL_LOG_LEVEL=WARNING

# Habilitar logs de requests HTTP
LOG_HTTP_REQUESTS=false

# ----------------------------------------------------------------------------
# Database (REQUIRED para auth system)
# ----------------------------------------------------------------------------
# URL de la base de datos (PostgreSQL, MySQL, SQLite)
# SQLite (desarrollo): sqlite:///./jira_agent.db
# PostgreSQL (producción): postgresql://user:password@localhost:5432/dbname
# Supabase: postgresql://postgres:[PASSWORD]@db.[PROJECT].supabase.co:5432/postgres
DATABASE_URL=sqlite:///./jira_agent.db

# Pool de conexiones (solo para PostgreSQL)
DB_POOL_SIZE=5
DB_MAX_OVERFLOW=10

# ----------------------------------------------------------------------------
# Feature Flags (OPCIONAL)
# ----------------------------------------------------------------------------
# Habilitar endpoint de estadísticas
ENABLE_STATS=false

# Habilitar webhook callbacks
ENABLE_WEBHOOKS=false

# Habilitar integración con Slack
ENABLE_SLACK=false

# ----------------------------------------------------------------------------
# Development Only
# ----------------------------------------------------------------------------
# Auto-reload al detectar cambios en el código
RELOAD=true

# Habilitar modo de depuración de FastAPI
FASTAPI_DEBUG=true
